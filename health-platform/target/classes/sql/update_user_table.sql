-- 更新用户表结构，添加新字段
-- 为用户表添加基本信息字段
ALTER TABLE users ADD COLUMN IF NOT EXISTS name VARCHAR(64) NULL COMMENT '用户姓名';
ALTER TABLE users ADD COLUMN IF NOT EXISTS avatar VARCHAR(255) NULL COMMENT '头像URL';
ALTER TABLE users ADD COLUMN IF NOT EXISTS height DECIMAL(5,2) NULL COMMENT '身高(cm)';
ALTER TABLE users ADD COLUMN IF NOT EXISTS weight DECIMAL(5,2) NULL COMMENT '体重(kg)';

-- 为用户表添加目标字段
ALTER TABLE users ADD COLUMN IF NOT EXISTS daily_calorie_goal INT UNSIGNED DEFAULT 600 COMMENT '每日热量目标';
ALTER TABLE users ADD COLUMN IF NOT EXISTS daily_exercise_goal INT UNSIGNED DEFAULT 30 COMMENT '每日运动时长目标(分钟)';
ALTER TABLE users ADD COLUMN IF NOT EXISTS daily_step_goal INT UNSIGNED DEFAULT 10000 COMMENT '每日步数目标';

-- 检查表结构
DESCRIBE users;
