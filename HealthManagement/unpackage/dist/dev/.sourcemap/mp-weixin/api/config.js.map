{"version":3,"file":"config.js","sources":["api/config.js"],"sourcesContent":["// API配置文件\nconst API_CONFIG = {\n  // 后端API基础地址\n  BASE_URL: 'http://localhost:8088/api',\n  \n  // 各模块API地址\n  AUTH: {\n    LOGIN: '/auth/weixin/login',\n    ME: '/auth/me',\n    REFRESH: '/auth/refresh'\n  },\n  \n  FOODS: {\n    SEARCH: '/foods/search',\n    CATEGORIES: '/food-categories'\n  },\n  \n  DIET_RECORDS: {\n    LIST: '/diet-records',\n    CREATE: '/diet-records',\n    UPDATE: '/diet-records',\n    DELETE: '/diet-records',\n    ITEMS: '/diet-records'\n  },\n  \n  EXERCISE_RECORDS: {\n    LIST: '/exercise-records',\n    CREATE: '/exercise-records',\n    UPDATE: '/exercise-records',\n    DELETE: '/exercise-records',\n    STATS: '/exercise-records/stats'\n  },\n  \n  WEIGHT_RECORDS: {\n    LIST: '/weight-records',\n    CREATE: '/weight-records',\n    UPDATE: '/weight-records',\n    DELETE: '/weight-records',\n    TREND: '/weight-records/trend',\n    BMI: '/weight-records/bmi'\n  },\n  \n  USERS: {\n    DETAIL: '/users',\n    UPDATE: '/users',\n    STATS: '/users',\n    GOALS: '/users'\n  },\n  \n  RECIPES: {\n    LIST: '/recipes',\n    DETAIL: '/recipes',\n    DETAIL_WITH_ITEMS: '/recipes',\n    ITEMS: '/recipes',\n    ENABLED: '/recipes/enabled',\n    BY_CATEGORY: '/recipes/category'\n  },\n  \n  HEALTH_PROFILES: {\n    ME: '/health-profiles/me',\n    UPDATE: '/health-profiles',\n    BMI: '/health-profiles/bmi'\n  },\n  \n  BMI_CALCULATIONS: {\n    CALCULATE: '/bmi-calculations',\n    MY_HISTORY: '/bmi-calculations/my-history'\n  }\n};\n\n// 请求封装\nconst request = (options) => {\n  return new Promise((resolve, reject) => {\n    uni.request({\n      url: API_CONFIG.BASE_URL + options.url,\n      method: options.method || 'GET',\n      data: options.data || {},\n      header: {\n        'Content-Type': 'application/json',\n        ...options.header\n      },\n      success: (res) => {\n        if (res.data.code === 0) {\n          resolve(res.data);\n        } else {\n          reject(res.data);\n        }\n      },\n      fail: (err) => {\n        reject(err);\n      }\n    });\n  });\n};\n\n// 导出配置和请求方法\nexport default {\n  API_CONFIG,\n  request\n};\n"],"names":["uni"],"mappings":";;AACA,MAAM,aAAa;AAAA;AAAA,EAEjB,UAAU;AAAA;AAAA,EAGV,MAAM;AAAA,IACJ,OAAO;AAAA,IACP,IAAI;AAAA,IACJ,SAAS;AAAA,EACV;AAAA,EAED,OAAO;AAAA,IACL,QAAQ;AAAA,IACR,YAAY;AAAA,EACb;AAAA,EAED,cAAc;AAAA,IACZ,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,QAAQ;AAAA,IACR,QAAQ;AAAA,IACR,OAAO;AAAA,EACR;AAAA,EAED,kBAAkB;AAAA,IAChB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,QAAQ;AAAA,IACR,QAAQ;AAAA,IACR,OAAO;AAAA,EACR;AAAA,EAED,gBAAgB;AAAA,IACd,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,QAAQ;AAAA,IACR,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,KAAK;AAAA,EACN;AAAA,EAED,OAAO;AAAA,IACL,QAAQ;AAAA,IACR,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,OAAO;AAAA,EACR;AAAA,EAED,SAAS;AAAA,IACP,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,mBAAmB;AAAA,IACnB,OAAO;AAAA,IACP,SAAS;AAAA,IACT,aAAa;AAAA,EACd;AAAA,EAED,iBAAiB;AAAA,IACf,IAAI;AAAA,IACJ,QAAQ;AAAA,IACR,KAAK;AAAA,EACN;AAAA,EAED,kBAAkB;AAAA,IAChB,WAAW;AAAA,IACX,YAAY;AAAA,EACb;AACH;AAGA,MAAM,UAAU,CAAC,YAAY;AAC3B,SAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACtCA,kBAAAA,MAAI,QAAQ;AAAA,MACV,KAAK,WAAW,WAAW,QAAQ;AAAA,MACnC,QAAQ,QAAQ,UAAU;AAAA,MAC1B,MAAM,QAAQ,QAAQ,CAAE;AAAA,MACxB,QAAQ;AAAA,QACN,gBAAgB;AAAA,QAChB,GAAG,QAAQ;AAAA,MACZ;AAAA,MACD,SAAS,CAAC,QAAQ;AAChB,YAAI,IAAI,KAAK,SAAS,GAAG;AACvB,kBAAQ,IAAI,IAAI;AAAA,QAC1B,OAAe;AACL,iBAAO,IAAI,IAAI;AAAA,QAChB;AAAA,MACF;AAAA,MACD,MAAM,CAAC,QAAQ;AACb,eAAO,GAAG;AAAA,MACX;AAAA,IACP,CAAK;AAAA,EACL,CAAG;AACH;AAGA,MAAe,YAAA;AAAA,EACb;AAAA,EACA;AACF;;"}