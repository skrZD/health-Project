{"version":3,"file":"WeightManagement.js","sources":["pages/WeightManagement/WeightManagement.vue","S:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvV2VpZ2h0TWFuYWdlbWVudC9XZWlnaHRNYW5hZ2VtZW50LnZ1ZQ"],"sourcesContent":["<template>\n\t<view class=\"weightPage\">\n\t\t<view class=\"header_box\">\n\t\t\t<view class=\"page_title\">\n\t\t\t\t体重管理\n\t\t\t</view>\n\t\t\t<view class=\"add_weight_btn\" @click=\"showAddModal = true\">\n\t\t\t\t<text>+ 记录体重</text>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<view class=\"bmi_box card_box\">\n\t\t\t<view class=\"bmi_title\">BMI指数</view>\n\t\t\t<view class=\"bmi_content\">\n\t\t\t\t<view class=\"bmi_value\">{{currentBMI}}<text class=\"unit\">kg/m²</text></view>\n\t\t\t\t<view class=\"bmi_status\" :class=\"bmiStatusClass\">{{bmiStatus}}</view>\n\t\t\t</view>\n\t\t\t<view class=\"bmi_info\">\n\t\t\t\t<text>身高: {{userInfo.height}}cm</text>\n\t\t\t\t<text>体重: {{userInfo.weight}}kg</text>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<view class=\"weight_records_box card_box\">\n\t\t\t<view class=\"records_title\">体重记录</view>\n\t\t\t<view class=\"weight_records\">\n\t\t\t\t<view class=\"weight_record list_item\" v-for=\"record in weightRecords\" :key=\"record.id\">\n\t\t\t\t\t<view class=\"record_date\">{{record.date}}</view>\n\t\t\t\t\t<view class=\"record_weight\">{{record.weight}}kg</view>\n\t\t\t\t\t<view class=\"record_bmi\">BMI: {{record.bmi}}</view>\n\t\t\t\t\t<view class=\"record_change\" :class=\"record.changeClass\">\n\t\t\t\t\t\t{{record.change}}\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<view class=\"modal\" v-if=\"showAddModal\" @click=\"showAddModal = false\">\n\t\t\t<view class=\"modal_content\" @click.stop>\n\t\t\t\t<view class=\"modal_title\">记录体重</view>\n\t\t\t\t<view class=\"form_item\">\n\t\t\t\t\t<text class=\"form_label\">体重(kg)</text>\n\t\t\t\t\t<input class=\"form_input\" type=\"number\" v-model=\"newWeight.weight\" placeholder=\"请输入体重\" step=\"0.1\"/>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"form_item\">\n\t\t\t\t\t<text class=\"form_label\">记录日期</text>\n\t\t\t\t\t<picker mode=\"date\" :value=\"newWeight.date\" @change=\"onDateChange\">\n\t\t\t\t\t\t<view class=\"picker\">{{newWeight.date}}</view>\n\t\t\t\t\t</picker>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"form_item\">\n\t\t\t\t\t<text class=\"form_label\">备注</text>\n\t\t\t\t\t<input class=\"form_input\" v-model=\"newWeight.note\" placeholder=\"可选，如：运动后\"/>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"modal_actions\">\n\t\t\t\t\t<button class=\"cancel_btn\" @click=\"showAddModal = false\">取消</button>\n\t\t\t\t\t<button class=\"confirm_btn\" @click=\"addWeightRecord\">确定</button>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\n\t</view>\n</template>\n\n<script>\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tshowAddModal: false,\n\t\t\tuserInfo: {\n\t\t\t\theight: 175,\n\t\t\t\tweight: 70\n\t\t\t},\n\t\t\tnewWeight: {\n\t\t\t\tweight: '',\n\t\t\t\tdate: '',\n\t\t\t\tnote: ''\n\t\t\t},\n\t\t\tweightRecords: [], // Initializing with an empty array to load from API\n\t\t};\n\t},\n\tcomputed: {\n\t\tcurrentBMI() {\n\t\t\treturn this.calculateBMI(this.userInfo.weight);\n\t\t},\n\t\tbmiStatus() {\n\t\t\tconst bmi = parseFloat(this.currentBMI);\n\t\t\tif (bmi < 18.5) return '偏瘦';\n\t\t\tif (bmi < 24) return '正常';\n\t\t\tif (bmi < 28) return '偏胖';\n\t\t\treturn '肥胖';\n\t\t},\n\t\tbmiStatusClass() {\n\t\t\tconst bmi = parseFloat(this.currentBMI);\n\t\t\tif (bmi < 18.5) return 'underweight';\n\t\t\tif (bmi < 24) return 'normal';\n\t\t\tif (bmi < 28) return 'overweight';\n\t\t\treturn 'obese';\n\t\t}\n\t},\n\tonLoad() {\n\t\tthis.newWeight.date = this.getCurrentDate();\n\t\tthis.loadUserInfo();\n\t\tthis.loadWeightRecords();\n\t},\n\tonShow() {\n\t\tthis.loadUserInfo();\n\t},\n\tmethods: {\n\t\tonDateChange(e) {\n\t\t\tthis.newWeight.date = e.detail.value;\n\t\t},\n\t\taddWeightRecord() {\n\t\t\tif (!this.newWeight.weight || !this.newWeight.date) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '请填写完整信息',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tconst weight = parseFloat(this.newWeight.weight);\n\t\t\tconst bmi = this.calculateBMI(weight);\n\t\t\t\n\t\t\tconst weightData = {\n\t\t\t\tweight: weight,\n\t\t\t\trecordedAt: this.newWeight.date + 'T12:00:00',\n\t\t\t\tnote: this.newWeight.note\n\t\t\t};\n\t\t\t\n\t\t\tconst token = uni.getStorageSync('token');\n\t\t\t\n\t\t\tuni.request({\n\t\t\t\turl: 'http://localhost:8088/api/weight-records',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: weightData,\n\t\t\t\theader: {\n\t\t\t\t\t'Authorization': token ? 'Bearer ' + token : ''\n\t\t\t\t},\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res.data.code === 0) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '记录成功',\n\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.loadWeightRecords();\n\t\t\t\t\t\tthis.showAddModal = false;\n\t\t\t\t\t\tthis.newWeight = { weight: '', date: this.getCurrentDate(), note: '' };\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.showToast({ title: '保存失败', icon: 'none' });\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: () => {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '保存失败，请检查网络',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t\tthis.showAddModal = false;\n\t\t\t\t\tthis.newWeight = { weight: '', date: this.getCurrentDate(), note: '' };\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tloadUserInfo() {\n\t\t\tconst token = uni.getStorageSync('token');\n\t\t\tconst storedUserInfo = uni.getStorageSync('userInfo');\n\t\t\t\n\t\t\tif (storedUserInfo) {\n\t\t\t\tthis.userInfo = { ...this.userInfo, ...storedUserInfo };\n\t\t\t}\n\t\t\t\n\t\t\tif (!token) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tuni.request({\n\t\t\t\turl: 'http://localhost:8088/api/users/me',\n\t\t\t\tmethod: 'GET',\n\t\t\t\theader: {\n\t\t\t\t\t'Authorization': 'Bearer ' + token\n\t\t\t\t},\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res.data.code === 0) {\n\t\t\t\t\t\tconst userData = res.data.data;\n\t\t\t\t\t\tthis.userInfo = {\n\t\t\t\t\t\t\t...this.userInfo,\n\t\t\t\t\t\t\t...userData\n\t\t\t\t\t\t};\n\t\t\t\t\t\tuni.setStorageSync('userInfo', this.userInfo);\n\t\t\t\t\t\tthis.updateBMIForAllRecords();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tupdateBMIForAllRecords() {\n\t\t\tif (!this.userInfo.height || this.userInfo.height <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tthis.weightRecords.forEach(record => {\n\t\t\t\trecord.bmi = this.calculateBMI(record.weight);\n\t\t\t});\n\t\t},\n\t\tcalculateBMI(weight) {\n\t\t\tif (!this.userInfo.height || this.userInfo.height <= 0 || !weight) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tconst height = this.userInfo.height / 100;\n\t\t\treturn parseFloat((weight / (height * height)).toFixed(1));\n\t\t},\n\t\tloadWeightRecords() {\n\t\t\tconst token = uni.getStorageSync('token');\n\t\t\tif (!token) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tuni.request({\n\t\t\t\turl: 'http://localhost:8088/api/weight-records',\n\t\t\t\tmethod: 'GET',\n\t\t\t\theader: {\n\t\t\t\t\t'Authorization': 'Bearer ' + token\n\t\t\t\t},\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res.data.code === 0) {\n\t\t\t\t\t\tconst records = res.data.data.records || [];\n\t\t\t\t\t\trecords.sort((a, b) => new Date(b.recordedAt) - new Date(a.recordedAt));\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.weightRecords = records.map((record, index) => {\n\t\t\t\t\t\t\tconst prevRecord = records[index + 1];\n\t\t\t\t\t\t\tconst change = prevRecord ? (record.weight - prevRecord.weight).toFixed(1) : 0;\n\t\t\t\t\t\t\tconst changeText = change > 0 ? `+${change}kg` : `${change}kg`;\n\t\t\t\t\t\t\tconst changeClass = change > 0 ? 'increase' : change < 0 ? 'decrease' : 'stable';\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tconst bmi = this.calculateBMI(record.weight);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tid: record.id,\n\t\t\t\t\t\t\t\tdate: record.recordedAt.split('T')[0],\n\t\t\t\t\t\t\t\tweight: record.weight,\n\t\t\t\t\t\t\t\tbmi: bmi,\n\t\t\t\t\t\t\t\tchange: changeText,\n\t\t\t\t\t\t\t\tchangeClass: changeClass\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (this.weightRecords.length > 0) {\n\t\t\t\t\t\t\tthis.userInfo.weight = this.weightRecords[0].weight;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgetCurrentDate() {\n\t\t\tconst now = new Date();\n\t\t\treturn now.getFullYear() + '-' + \n\t\t\t\t(now.getMonth() + 1).toString().padStart(2, '0') + '-' + \n\t\t\t\tnow.getDate().toString().padStart(2, '0');\n\t\t}\n\t}\n};\n</script>\n\n<style scoped>\n\t/* 定义颜色变量 */\n\t:root {\n\t\t--primary-color: #4A89FF;\n\t\t--success-color: #52c41a;\n\t\t--warning-color: #faad14;\n\t\t--danger-color: #f5222d;\n\t\t--background-color: #f7f8f9;\n\t\t--card-background: #ffffff;\n\t\t--text-color-primary: #333333;\n\t\t--text-color-secondary: #666666;\n\t\t--border-color: #ebebeb;\n\t\t--box-shadow: 0px 4px 12px rgba(99, 99, 99, 0.08);\n\t}\n\n\t.weightPage {\n\t\twidth: 100%;\n\t\tmin-height: 100vh;\n\t\tbackground-color: var(--background-color);\n\t\tpadding-bottom: 3vh;\n\t}\n\t\n\t.header_box {\n\t\twidth: 95%;\n\t\tmargin: 0 auto;\n\t\tpadding: 20px 0;\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t}\n\t\n\t.page_title {\n\t\tfont-size: 24px;\n\t\tfont-weight: bold;\n\t\tcolor: var(--text-color-primary);\n\t}\n\t\n\t.add_weight_btn {\n\t\tbackground-color: var(--primary-color);\n\t\tcolor: white;\n\t\tpadding: 8px 16px;\n\t\tborder-radius: 20px;\n\t\tfont-size: 14px;\n\t\tmin-width: 80px;\n\t\ttext-align: center;\n\t}\n\n\t.card_box {\n\t\twidth: 95%;\n\t\tmargin: 0 auto 15px;\n\t\tbackground-color: var(--card-background);\n\t\tborder-radius: 12px;\n\t\tbox-shadow: var(--box-shadow);\n\t\tpadding: 20px;\n\t\tbox-sizing: border-box;\n\t}\n\t\n\t.bmi_box {\n\t\ttext-align: center;\n\t}\n\t\n\t.bmi_title {\n\t\tfont-size: 18px;\n\t\tfont-weight: bold;\n\t\tmargin-bottom: 1em;\n\t\tcolor: var(--text-color-primary);\n\t}\n\t\n\t.bmi_content {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: baseline; /* Align to the bottom of flex container */\n\t\tmargin-bottom: 1em;\n\t}\n\t\n\t.bmi_value {\n\t\tfont-size: 48px;\n\t\tfont-weight: bold;\n\t\tcolor: var(--primary-color);\n\t\tmargin-right: 0.5em;\n\t}\n\t\n\t.unit {\n\t\tfont-size: 14px;\n\t\tfont-weight: normal;\n\t\tcolor: var(--text-color-secondary);\n\t}\n\t\n\t.bmi_status {\n\t\tfont-size: 16px;\n\t\tpadding: 0.3em 0.8em;\n\t\tborder-radius: 999px; /* More rounded pill shape */\n\t\tcolor: white;\n\t}\n\t\n\t.bmi_status.normal {\n\t\tbackground-color: var(--success-color);\n\t}\n\t\n\t.bmi_status.underweight {\n\t\tbackground-color: var(--primary-color);\n\t}\n\t\n\t.bmi_status.overweight {\n\t\tbackground-color: var(--warning-color);\n\t}\n\t\n\t.bmi_status.obese {\n\t\tbackground-color: var(--danger-color);\n\t}\n\t\n\t.bmi_info {\n\t\tdisplay: flex;\n\t\tjustify-content: space-around;\n\t\tfont-size: 14px;\n\t\tcolor: var(--text-color-secondary);\n\t}\n\t\n\t.records_title {\n\t\tfont-size: 18px;\n\t\tfont-weight: bold;\n\t\tpadding-bottom: 15px;\n\t\tcolor: var(--text-color-primary);\n\t\tborder-bottom: 1px solid var(--border-color);\n\t}\n\t\n\t.weight_records {\n\t\tpadding-top: 15px;\n\t}\n\t\n\t.list_item {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tpadding: 15px 0;\n\t\tborder-bottom: 1px solid var(--border-color);\n\t}\n\n\t.list_item:last-child {\n\t\tborder-bottom: none;\n\t}\n\t\n\t.record_date {\n\t\twidth: 25%;\n\t\tfont-size: 14px;\n\t\tcolor: var(--text-color-secondary);\n\t}\n\t\n\t.record_weight {\n\t\twidth: 25%;\n\t\tfont-size: 16px;\n\t\tfont-weight: bold;\n\t\tcolor: var(--text-color-primary);\n\t}\n\t\n\t.record_bmi {\n\t\twidth: 25%;\n\t\tfont-size: 14px;\n\t\tcolor: var(--text-color-secondary);\n\t}\n\t\n\t.record_change {\n\t\twidth: 25%;\n\t\tfont-size: 14px;\n\t\ttext-align: right;\n\t}\n\t\n\t.record_change.increase {\n\t\tcolor: var(--danger-color);\n\t}\n\t\n\t.record_change.decrease {\n\t\tcolor: var(--success-color);\n\t}\n\t\n\t.record_change.stable {\n\t\tcolor: var(--text-color-secondary);\n\t}\n\t\n\t.modal {\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tbackground-color: rgba(0, 0, 0, 0.5);\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tz-index: 1000;\n\t}\n\t\n\t.modal_content {\n\t\twidth: 320px;\n\t\tmax-width: 85%;\n\t\tbackground-color: var(--card-background);\n\t\tborder-radius: 12px;\n\t\tpadding: 24px;\n\t}\n\t\n\t.modal_title {\n\t\tfont-size: 18px;\n\t\tfont-weight: bold;\n\t\ttext-align: center;\n\t\tmargin-bottom: 24px;\n\t\tcolor: var(--text-color-primary);\n\t}\n\t\n\t.form_item {\n\t\tmargin-bottom: 16px;\n\t}\n\t\n\t.form_label {\n\t\tdisplay: block;\n\t\tfont-size: 14px;\n\t\tcolor: var(--text-color-primary);\n\t\tmargin-bottom: 8px;\n\t}\n\t\n\t.picker {\n\t\twidth: 100%;\n\t\theight: 44px;\n\t\tline-height: 44px;\n\t\tpadding-left: 12px;\n\t\tborder: 1px solid var(--border-color);\n\t\tborder-radius: 8px;\n\t\tbox-sizing: border-box;\n\t}\n\t\n\t.form_input {\n\t\twidth: 100%;\n\t\theight: 44px;\n\t\tpadding: 0 12px;\n\t\tborder: 1px solid var(--border-color);\n\t\tborder-radius: 8px;\n\t\tbox-sizing: border-box;\n\t\tfont-size: 14px;\n\t}\n\t\n\t.modal_actions {\n\t\tdisplay: flex;\n\t\tgap: 10px;\n\t\tmargin-top: 24px;\n\t}\n\t\n\t.cancel_btn, .confirm_btn {\n\t\tflex: 1;\n\t\theight: 44px;\n\t\tline-height: 44px;\n\t\tborder: none;\n\t\tborder-radius: 8px;\n\t\tfont-size: 16px;\n\t}\n\t\n\t.cancel_btn {\n\t\tbackground-color: #f0f0f0;\n\t\tcolor: var(--text-color-secondary);\n\t}\n\t\n\t.confirm_btn {\n\t\tbackground-color: var(--primary-color);\n\t\tcolor: white;\n\t}\n</style>","import MiniProgramPage from 'D:/HBuilder/HealthManagement/pages/WeightManagement/WeightManagement.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":"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"}