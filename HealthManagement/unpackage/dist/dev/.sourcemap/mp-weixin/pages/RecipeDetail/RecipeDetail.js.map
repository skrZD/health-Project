{"version":3,"file":"RecipeDetail.js","sources":["pages/RecipeDetail/RecipeDetail.vue","S:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvUmVjaXBlRGV0YWlsL1JlY2lwZURldGFpbC52dWU"],"sourcesContent":["<template>\n\t<view class=\"recipeDetail\">\n\t\t<view class=\"header\">\n\t\t\t<text class=\"title\">{{ recipe.name }}</text>\n\t\t</view>\n\t\t\n\t\t<view class=\"recipe-info\">\n\t\t\t<view class=\"info-row\">\n\t\t\t\t<text class=\"label\">分类：</text>\n\t\t\t\t<text class=\"value\">{{ recipe.category?.name || '未分类' }}</text>\n\t\t\t</view>\n\t\t\t<view class=\"info-row\" v-if=\"recipe.description\">\n\t\t\t\t<text class=\"label\">描述：</text>\n\t\t\t\t<text class=\"value\">{{ recipe.description }}</text>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<view class=\"ingredients-section\">\n\t\t\t<view class=\"section-title\">食材明细</view>\n\t\t\t<view class=\"ingredients-list\">\n\t\t\t\t<view \n\t\t\t\t\tclass=\"ingredient-item\" \n\t\t\t\t\tv-for=\"item in recipeItems\" \n\t\t\t\t\t:key=\"item.id\"\n\t\t\t\t>\n\t\t\t\t\t<view class=\"ingredient-name\">{{ item.foodName || '未知食材' }}</view>\n\t\t\t\t\t<view class=\"ingredient-quantity\">\n\t\t\t\t\t\t{{ item.quantity }} {{ item.quantityUnit }}\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<view class=\"actions\">\n\t\t\t<button class=\"btn-use\" @click=\"useRecipe\">使用此食谱</button>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\nimport apiConfig from '@/api/config.js';\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\trecipe: {\n\t\t\t\tname: '',\n\t\t\t\tdescription: '',\n\t\t\t\tcategory: null\n\t\t\t},\n\t\t\trecipeItems: []\n\t\t};\n\t},\n\tonLoad(options) {\n\t\tif (options.recipeId) {\n\t\t\tthis.loadRecipeDetail(options.recipeId);\n\t\t}\n\t},\n\tmethods: {\n\t\t// 加载食谱详情\n\t\tloadRecipeDetail(recipeId) {\n\t\t\tuni.request({\n\t\t\t\turl: `${apiConfig.API_CONFIG.BASE_URL}${apiConfig.API_CONFIG.RECIPES.DETAIL_WITH_ITEMS}/${recipeId}/detail`,\n\t\t\t\tmethod: 'GET',\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res.data.code === 0) {\n\t\t\t\t\t\tconst data = res.data.data;\n\t\t\t\t\t\tthis.recipe = data.recipe;\n\t\t\t\t\t\tthis.recipeItems = data.items || [];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '加载食谱失败',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: () => {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '网络错误',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t\n\t\t// 加载食谱明细（备用方法）\n\t\tloadRecipeItems(recipeId) {\n\t\t\tuni.request({\n\t\t\t\turl: `${apiConfig.API_CONFIG.BASE_URL}${apiConfig.API_CONFIG.RECIPES.ITEMS}/${recipeId}`,\n\t\t\t\tmethod: 'GET',\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res.data.code === 0) {\n\t\t\t\t\t\tthis.recipeItems = res.data.data || [];\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: () => {\n\t\t\t\t\tconsole.log('加载食谱明细失败');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t\n\t\t// 使用食谱\n\t\tuseRecipe() {\n\t\t\t// 将食谱信息传递给饮食记录页面\n\t\t\tuni.navigateTo({\n\t\t\t\turl: `/pages/DietRecordDetail/DietRecordDetail?recipeId=${this.recipe.id}&recipeName=${encodeURIComponent(this.recipe.name)}`\n\t\t\t});\n\t\t}\n\t}\n};\n</script>\n\n<style scoped>\n.recipeDetail {\n\tpadding: 20px;\n\tbackground: #f5f5f5;\n\tmin-height: 100vh;\n}\n\n.header {\n\ttext-align: center;\n\tmargin-bottom: 20px;\n}\n\n.title {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tcolor: #333;\n}\n\n.recipe-info {\n\tbackground: #fff;\n\tborder-radius: 12px;\n\tpadding: 20px;\n\tmargin-bottom: 20px;\n\tbox-shadow: 0 2px 8px rgba(0,0,0,0.1);\n}\n\n.info-row {\n\tdisplay: flex;\n\tmargin-bottom: 12px;\n}\n\n.info-row:last-child {\n\tmargin-bottom: 0;\n}\n\n.label {\n\tfont-size: 16px;\n\tcolor: #666;\n\twidth: 80px;\n\tflex-shrink: 0;\n}\n\n.value {\n\tfont-size: 16px;\n\tcolor: #333;\n\tflex: 1;\n}\n\n.ingredients-section {\n\tbackground: #fff;\n\tborder-radius: 12px;\n\tpadding: 20px;\n\tmargin-bottom: 20px;\n\tbox-shadow: 0 2px 8px rgba(0,0,0,0.1);\n}\n\n.section-title {\n\tfont-size: 18px;\n\tfont-weight: bold;\n\tcolor: #333;\n\tmargin-bottom: 16px;\n\tborder-bottom: 2px solid #f0f0f0;\n\tpadding-bottom: 8px;\n}\n\n.ingredients-list {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 12px;\n}\n\n.ingredient-item {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding: 12px;\n\tbackground: #f8f8f8;\n\tborder-radius: 8px;\n}\n\n.ingredient-name {\n\tfont-size: 16px;\n\tcolor: #333;\n\tflex: 1;\n}\n\n.ingredient-quantity {\n\tfont-size: 14px;\n\tcolor: #666;\n\tfont-weight: bold;\n}\n\n.actions {\n\tpadding: 20px 0;\n}\n\n.btn-use {\n\twidth: 100%;\n\theight: 48px;\n\tbackground: #F5296E;\n\tcolor: #fff;\n\tborder: none;\n\tborder-radius: 8px;\n\tfont-size: 16px;\n\tfont-weight: bold;\n}\n</style>\n","import MiniProgramPage from 'D:/HBuilder/HealthManagement/pages/RecipeDetail/RecipeDetail.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","apiConfig"],"mappings":";;;AA0CA,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,QAAQ;AAAA,QACP,MAAM;AAAA,QACN,aAAa;AAAA,QACb,UAAU;AAAA,MACV;AAAA,MACD,aAAa,CAAC;AAAA;EAEf;AAAA,EACD,OAAO,SAAS;AACf,QAAI,QAAQ,UAAU;AACrB,WAAK,iBAAiB,QAAQ,QAAQ;AAAA,IACvC;AAAA,EACA;AAAA,EACD,SAAS;AAAA;AAAA,IAER,iBAAiB,UAAU;AAC1BA,oBAAAA,MAAI,QAAQ;AAAA,QACX,KAAK,GAAGC,WAAAA,UAAU,WAAW,QAAQ,GAAGA,WAAAA,UAAU,WAAW,QAAQ,iBAAiB,IAAI,QAAQ;AAAA,QAClG,QAAQ;AAAA,QACR,SAAS,CAAC,QAAQ;AACjB,cAAI,IAAI,KAAK,SAAS,GAAG;AACxB,kBAAM,OAAO,IAAI,KAAK;AACtB,iBAAK,SAAS,KAAK;AACnB,iBAAK,cAAc,KAAK,SAAS,CAAA;AAAA,iBAC3B;AACND,0BAAAA,MAAI,UAAU;AAAA,cACb,OAAO;AAAA,cACP,MAAM;AAAA,YACP,CAAC;AAAA,UACF;AAAA,QACA;AAAA,QACD,MAAM,MAAM;AACXA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAO;AAAA,YACP,MAAM;AAAA,UACP,CAAC;AAAA,QACF;AAAA,MACD,CAAC;AAAA,IACD;AAAA;AAAA,IAGD,gBAAgB,UAAU;AACzBA,oBAAAA,MAAI,QAAQ;AAAA,QACX,KAAK,GAAGC,qBAAU,WAAW,QAAQ,GAAGA,qBAAU,WAAW,QAAQ,KAAK,IAAI,QAAQ;AAAA,QACtF,QAAQ;AAAA,QACR,SAAS,CAAC,QAAQ;AACjB,cAAI,IAAI,KAAK,SAAS,GAAG;AACxB,iBAAK,cAAc,IAAI,KAAK,QAAQ,CAAA;AAAA,UACrC;AAAA,QACA;AAAA,QACD,MAAM,MAAM;AACXD,wBAAAA,MAAA,MAAA,OAAA,6CAAY,UAAU;AAAA,QACvB;AAAA,MACD,CAAC;AAAA,IACD;AAAA;AAAA,IAGD,YAAY;AAEXA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK,qDAAqD,KAAK,OAAO,EAAE,eAAe,mBAAmB,KAAK,OAAO,IAAI,CAAC;AAAA,MAC5H,CAAC;AAAA,IACF;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;AC5GA,GAAG,WAAW,eAAe;"}