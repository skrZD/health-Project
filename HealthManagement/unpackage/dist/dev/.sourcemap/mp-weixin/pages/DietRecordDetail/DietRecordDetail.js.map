{"version":3,"file":"DietRecordDetail.js","sources":["pages/DietRecordDetail/DietRecordDetail.vue","S:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvRGlldFJlY29yZERldGFpbC9EaWV0UmVjb3JkRGV0YWlsLnZ1ZQ"],"sourcesContent":["<template>\n\t<view class=\"dietDetail\">\n\t\t<view class=\"header card\">\n\t\t\t<view class=\"row\">\n\t\t\t\t<view class=\"label\">餐别</view>\n\t\t\t\t<picker @change=\"onMealTypeChange\" :value=\"mealTypeIndex\" :range=\"mealTypes\" v-if=\"!record.id\">\n\t\t\t\t\t<view class=\"picker-value\">{{record.mealType}}</view>\n\t\t\t\t</picker>\n\t\t\t\t<view class=\"value\" v-else>{{record.mealType}}</view>\n\t\t\t</view>\n\t\t\t<view class=\"row\">\n\t\t\t\t<view class=\"label\">时间</view>\n\t\t\t\t<view class=\"value\">{{formatDateTime(record.recordedAt)}}</view>\n\t\t\t</view>\n\t\t\t<view class=\"row\">\n\t\t\t\t<view class=\"label\">计划热量</view>\n\t\t\t\t<view class=\"value\">{{record.planCalories}} kcal</view>\n\t\t\t</view>\n\t\t\t<view class=\"row\">\n\t\t\t\t<view class=\"label\">备注</view>\n\t\t\t\t<view class=\"value\">{{record.note || '无'}}</view>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<view class=\"card\">\n\t\t\t<view class=\"section_title\">食物明细</view>\n\t\t\t<view class=\"items\">\n\t\t\t\t<view class=\"item\" v-for=\"item in items\" :key=\"item.id\">\n\t\t\t\t\t<view class=\"left\">\n\t\t\t\t\t\t<view class=\"name\">{{item.foodName}}</view>\n\t\t\t\t\t\t<view class=\"sub\">{{item.quantity}} {{item.unit}}</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"right\">\n\t\t\t\t\t\t<view class=\"kcal\">{{item.calories}} kcal</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view v-if=\"items.length===0\" class=\"empty\">暂无明细</view>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<view class=\"card total\">\n\t\t\t<view>总热量</view>\n\t\t\t<view class=\"total_kcal\">{{totalKcal}} kcal</view>\n\t\t</view>\n\n\t\t<view class=\"footer\">\n\t\t\t<button class=\"btn_secondary\" @click=\"goBack\">返回</button>\n\t\t\t<button class=\"btn_primary\" @click=\"saveDietRecord\" v-if=\"!record.id\">保存记录</button>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\nexport default {\n\tdata(){\n\t\treturn {\n\t\t\trecord: {\n\t\t\t\tid: null,\n\t\t\t\tmealType: '早餐',\n\t\t\t\trecordedAt: '',\n\t\t\t\tplanCalories: 600,\n\t\t\t\tnote: ''\n\t\t\t},\n\t\t\titems: [],\n\t\t\ttotalKcal: 0,\n\t\t\tmealTypes: ['早餐', '午餐', '晚饭', '加餐'],\n\t\t\tmealTypeIndex: 0\n\t\t};\n\t},\n\tonLoad(query){\n\t\tconsole.log('饮食记录详情页面加载，参数:', query);\n\t\t// 从上一页传参或从后端获取数据\n\t\tif (query.recordId) {\n\t\t\tconsole.log('加载饮食记录详情，recordId:', query.recordId);\n\t\t\tthis.loadDietRecord(query.recordId);\n\t\t} else if (query.recipeId) {\n\t\t\t// 从食谱页面传来的参数\n\t\t\tconsole.log('加载食谱数据，recipeId:', query.recipeId);\n\t\t\tthis.loadRecipeData(query.recipeId, query.recipeName);\n\t\t} else {\n\t\t\t// 默认显示当前时间\n\t\t\tconsole.log('没有参数，显示新建页面');\n\t\t\tthis.record.recordedAt = this.getNow();\n\t\t}\n\t},\n\tmethods:{\n\t\tgetNow(){\n\t\t\tconst d = new Date();\n\t\t\tconst p = (n)=> String(n).padStart(2,'0');\n\t\t\treturn `${d.getFullYear()}-${p(d.getMonth()+1)}-${p(d.getDate())}T${p(d.getHours())}:${p(d.getMinutes())}:${p(d.getSeconds())}.000Z`;\n\t\t},\n\t\tformatDateTime(dateTimeStr) {\n\t\t\tif (!dateTimeStr) return '';\n\t\t\tconst date = new Date(dateTimeStr);\n\t\t\tconst p = (n)=> String(n).padStart(2,'0');\n\t\t\treturn `${date.getFullYear()}-${p(date.getMonth()+1)}-${p(date.getDate())} ${p(date.getHours())}:${p(date.getMinutes())}`;\n\t\t},\n\t\t// 加载食谱数据\n\t\tloadRecipeData(recipeId, recipeName) {\n\t\t\t// 设置基本信息\n\t\t\tthis.record.recordedAt = this.getNow();\n\t\t\tthis.record.note = `使用食谱：${decodeURIComponent(recipeName || '')}`;\n\t\t\t\n\t\t\t// 加载食谱详情\n\t\t\tuni.request({\n\t\t\t\turl: `http://localhost:8088/api/recipes/${recipeId}/detail`,\n\t\t\t\tmethod: 'GET',\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res.data.code === 0) {\n\t\t\t\t\t\tconst data = res.data.data;\n\t\t\t\t\t\tthis.record.note = `使用食谱：${data.recipe.name}`;\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 将食谱明细转换为饮食记录明细\n\t\t\t\t\t\tthis.items = data.items.map(item => ({\n\t\t\t\t\t\t\tid: item.id,\n\t\t\t\t\t\t\tfoodId: item.foodId,\n\t\t\t\t\t\t\trecipeId: null, // 食谱明细不关联食谱ID\n\t\t\t\t\t\t\tfoodName: item.foodName,\n\t\t\t\t\t\t\tquantity: item.quantity,\n\t\t\t\t\t\t\tunit: item.quantityUnit,\n\t\t\t\t\t\t\tcalories: 0 // 初始为0，稍后计算\n\t\t\t\t\t\t}));\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 计算每个食物的热量\n\t\t\t\t\t\tthis.calculateItemCalories();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '加载食谱失败',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: () => {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '网络错误',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t\n\t\tloadDietRecord(recordId) {\n\t\t\tconsole.log('开始加载饮食记录详情，recordId:', recordId);\n\t\t\t// 从后端获取饮食记录详情\n\t\t\tconst token = uni.getStorageSync('token');\n\t\t\tif (!token) {\n\t\t\t\tuni.showToast({ title: '请先登录', icon: 'none' });\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tuni.request({\n\t\t\t\turl: `http://localhost:8088/api/diet-records/${recordId}`,\n\t\t\t\tmethod: 'GET',\n\t\t\t\theader: {\n\t\t\t\t\t'Authorization': 'Bearer ' + token\n\t\t\t\t},\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log('饮食记录详情API响应:', res);\n\t\t\t\t\tif (res.data.code === 0) {\n\t\t\t\t\t\tthis.record = res.data.data;\n\t\t\t\t\t\tconsole.log('设置记录数据:', this.record);\n\t\t\t\t\t\t// 获取饮食记录明细\n\t\t\t\t\t\tthis.loadDietRecordItems(recordId);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log('获取记录失败:', res.data.message);\n\t\t\t\t\t\tuni.showToast({ title: '获取记录失败', icon: 'none' });\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: (err) => {\n\t\t\t\t\tconsole.log('网络错误:', err);\n\t\t\t\t\tuni.showToast({ title: '网络错误', icon: 'none' });\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tloadDietRecordItems(recordId) {\n\t\t\tconsole.log('开始加载饮食记录明细，recordId:', recordId);\n\t\t\t// 从后端获取饮食记录明细\n\t\t\tconst token = uni.getStorageSync('token');\n\t\t\t\n\t\t\tuni.request({\n\t\t\t\turl: `http://localhost:8088/api/diet-records/${recordId}/items`,\n\t\t\t\tmethod: 'GET',\n\t\t\t\theader: {\n\t\t\t\t\t'Authorization': 'Bearer ' + token\n\t\t\t\t},\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log('饮食记录明细API响应:', res);\n\t\t\t\t\tif (res.data.code === 0) {\n\t\t\t\t\t\tthis.items = res.data.data || [];\n\t\t\t\t\t\tconsole.log('设置明细数据:', this.items);\n\t\t\t\t\t\tthis.recalcTotal();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log('获取明细失败:', res.data.message);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: (err) => {\n\t\t\t\t\tconsole.log('获取明细网络错误:', err);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t// 餐别选择\n\t\tonMealTypeChange(e) {\n\t\t\tthis.mealTypeIndex = e.detail.value;\n\t\t\tthis.record.mealType = this.mealTypes[e.detail.value];\n\t\t},\n\t\t\n\t\t// 计算食物热量\n\t\tcalculateItemCalories() {\n\t\t\t// 为每个食物项计算热量\n\t\t\tthis.items.forEach((item, index) => {\n\t\t\t\t// 这里需要根据食物ID获取营养信息来计算热量\n\t\t\t\t// 暂时使用估算值，实际应该调用API获取食物营养信息\n\t\t\t\tthis.calculateSingleItemCalories(item, index);\n\t\t\t});\n\t\t},\n\t\t\n\t\t// 计算单个食物项的热量\n\t\tcalculateSingleItemCalories(item, index) {\n\t\t\t// 根据食物名称和数量估算热量\n\t\t\t// 这里使用简单的估算公式，实际应该从后端获取准确的营养数据\n\t\t\tlet caloriesPer100g = 0;\n\t\t\t\n\t\t\t// 根据食物名称估算每100g的热量\n\t\t\tconst foodName = item.foodName.toLowerCase();\n\t\t\tif (foodName.includes('鸡胸肉') || foodName.includes('鸡肉')) {\n\t\t\t\tcaloriesPer100g = 165;\n\t\t\t} else if (foodName.includes('牛肉')) {\n\t\t\t\tcaloriesPer100g = 250;\n\t\t\t} else if (foodName.includes('三文鱼') || foodName.includes('鲈鱼')) {\n\t\t\t\tcaloriesPer100g = 208;\n\t\t\t} else if (foodName.includes('鸡蛋')) {\n\t\t\t\tcaloriesPer100g = 155;\n\t\t\t} else if (foodName.includes('牛奶')) {\n\t\t\t\tcaloriesPer100g = 42;\n\t\t\t} else if (foodName.includes('燕麦')) {\n\t\t\t\tcaloriesPer100g = 389;\n\t\t\t} else if (foodName.includes('米饭')) {\n\t\t\t\tcaloriesPer100g = 130;\n\t\t\t} else if (foodName.includes('蔬菜') || foodName.includes('生菜') || foodName.includes('西兰花')) {\n\t\t\t\tcaloriesPer100g = 25;\n\t\t\t} else if (foodName.includes('番茄')) {\n\t\t\t\tcaloriesPer100g = 18;\n\t\t\t} else if (foodName.includes('豆腐')) {\n\t\t\t\tcaloriesPer100g = 76;\n\t\t\t} else if (foodName.includes('酸奶')) {\n\t\t\t\tcaloriesPer100g = 59;\n\t\t\t} else if (foodName.includes('水果') || foodName.includes('草莓') || foodName.includes('蓝莓')) {\n\t\t\t\tcaloriesPer100g = 50;\n\t\t\t} else {\n\t\t\t\tcaloriesPer100g = 100; // 默认值\n\t\t\t}\n\t\t\t\n\t\t\t// 计算总热量\n\t\t\tlet quantity = parseFloat(item.quantity) || 0;\n\t\t\tlet calories = (caloriesPer100g * quantity) / 100;\n\t\t\t\n\t\t\t// 更新热量值\n\t\t\tthis.$set(this.items, index, {\n\t\t\t\t...item,\n\t\t\t\tcalories: Math.round(calories)\n\t\t\t});\n\t\t\t\n\t\t\t// 重新计算总热量\n\t\t\tthis.recalcTotal();\n\t\t},\n\t\t\n\t\trecalcTotal(){\n\t\t\tthis.totalKcal = this.items.reduce((s, i) => s + (Number(i.calories) || 0), 0);\n\t\t},\n\t\t// 保存饮食记录\n\t\tsaveDietRecord() {\n\t\t\tconst token = uni.getStorageSync('token');\n\t\t\tif (!token) {\n\t\t\t\tuni.showToast({ title: '请先登录', icon: 'none' });\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\t// 构建饮食记录数据\n\t\t\tconst dietRecord = {\n\t\t\t\tmealType: this.record.mealType,\n\t\t\t\trecordedAt: this.record.recordedAt,\n\t\t\t\tplanCalories: this.record.planCalories,\n\t\t\t\tnote: this.record.note,\n\t\t\t\titems: this.items.map(item => ({\n\t\t\t\t\tfoodId: item.foodId || null, // 食物ID，如果没有则为null\n\t\t\t\t\trecipeId: item.recipeId || null, // 食谱ID，如果没有则为null\n\t\t\t\t\tquantity: item.quantity,\n\t\t\t\t\tunit: item.unit,\n\t\t\t\t\tcalories: item.calories\n\t\t\t\t}))\n\t\t\t};\n\t\t\t\n\t\t\tuni.request({\n\t\t\t\turl: 'http://localhost:8088/api/diet-records',\n\t\t\t\tmethod: 'POST',\n\t\t\t\theader: {\n\t\t\t\t\t'Authorization': 'Bearer ' + token,\n\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t},\n\t\t\t\tdata: dietRecord,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res.data.code === 0) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '保存成功',\n\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t});\n\t\t\t\t\t\t// 保存成功后返回上一页\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tuni.navigateBack();\n\t\t\t\t\t\t}, 1500);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: res.data.message || '保存失败',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: () => {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '网络错误',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgoBack() {\n\t\t\tuni.navigateBack();\n\t\t}\n\t}\n}\n</script>\n\n<style scoped>\n.dietDetail {\n\tpadding: 20px;\n\tbackground: #f5f5f5;\n\tmin-height: 100vh;\n}\n\n.card {\n\tbackground: #fff;\n\tborder-radius: 12px;\n\tpadding: 20px;\n\tmargin-bottom: 20px;\n\tbox-shadow: 0 2px 8px rgba(0,0,0,0.1);\n}\n\n.header .row {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding: 12px 0;\n\tborder-bottom: 1px solid #f0f0f0;\n}\n\n.header .row:last-child {\n\tborder-bottom: none;\n}\n\n.label {\n\tfont-size: 16px;\n\tcolor: #666;\n\tfont-weight: 500;\n}\n\n.value {\n\tfont-size: 16px;\n\tcolor: #333;\n\tfont-weight: 600;\n}\n\n.picker-value {\n\tfont-size: 16px;\n\tcolor: #333;\n\tfont-weight: 600;\n\tpadding: 8px 0;\n}\n\n.section_title {\n\tfont-size: 18px;\n\tfont-weight: 600;\n\tcolor: #333;\n\tmargin-bottom: 16px;\n}\n\n.items {\n\tmargin-bottom: 16px;\n}\n\n.item {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding: 12px 0;\n\tborder-bottom: 1px solid #f0f0f0;\n}\n\n.item:last-child {\n\tborder-bottom: none;\n}\n\n.left .name {\n\tfont-size: 16px;\n\tcolor: #333;\n\tfont-weight: 500;\n\tmargin-bottom: 4px;\n}\n\n.left .sub {\n\tfont-size: 14px;\n\tcolor: #666;\n}\n\n.right .kcal {\n\tfont-size: 16px;\n\tcolor: #ff6b35;\n\tfont-weight: 600;\n}\n\n.empty {\n\ttext-align: center;\n\tcolor: #999;\n\tpadding: 40px 0;\n\tfont-size: 14px;\n}\n\n.total {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tfont-size: 18px;\n\tfont-weight: 600;\n\tcolor: #333;\n}\n\n.total_kcal {\n\tcolor: #ff6b35;\n\tfont-size: 20px;\n}\n\n.footer {\n\tpadding: 20px 0;\n\tdisplay: flex;\n\tgap: 12px;\n}\n\n.btn_secondary {\n\tflex: 1;\n\theight: 48px;\n\tbackground: #f0f0f0;\n\tcolor: #666;\n\tborder: none;\n\tborder-radius: 8px;\n\tfont-size: 16px;\n\tfont-weight: 500;\n}\n\n.btn_primary {\n\tflex: 1;\n\theight: 48px;\n\tbackground: #4A89FF;\n\tcolor: #fff;\n\tborder: none;\n\tborder-radius: 8px;\n\tfont-size: 16px;\n\tfont-weight: 500;\n}\n</style>","import MiniProgramPage from 'D:/HBuilder/HealthManagement/pages/DietRecordDetail/DietRecordDetail.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":"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"}