{"version":3,"file":"index.js","sources":["pages/index/index.vue","S:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\n\n\t<view class=\"roomElement\">\n\n\t\t<view class=\"overview_box card_box\">\n\n\t\t\t<view class=\"charts-box\">\n\n\t\t\t\t<qiun-data-charts type=\"arcbar\" :opts=\"opts\" :chartData=\"chartData\" />\n\n\t\t\t</view>\n\n\t\t\t<view class=\"information_box\">\n\n\t\t\t\t<view class=\"stat_item\">\n\n\t\t\t\t\t<view class=\"stat_title\">\n\n\t\t\t\t\t\t<text class=\"dot\" style=\"color:var(--danger-color);\">●</text>活动热量\n\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<view class=\"stat_content\">\n\n\t\t\t\t\t\t<text class=\"value\">{{exerciseStats.totalCalories}}</text>/{{exerciseStats.targetCalories}} 千卡\n\n\t\t\t\t\t</view>\n\n\t\t\t\t</view>\n\n\t\t\t\t<view class=\"stat_item\">\n\n\t\t\t\t\t<view class=\"stat_title\">\n\n\t\t\t\t\t\t<text class=\"dot\" style=\"color:var(--warning-color);\">●</text>锻炼时长\n\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<view class=\"stat_content\">\n\n\t\t\t\t\t\t<text class=\"value\">{{exerciseStats.totalDuration}}</text>/{{exerciseStats.targetDuration}} 分钟\n\n\t\t\t\t\t</view>\n\n\t\t\t\t</view>\n\n\t\t\t\t<view class=\"stat_item\">\n\n\t\t\t\t\t<view class=\"stat_title\">\n\n\t\t\t\t\t\t<text class=\"dot\" style=\"color:var(--main-color);\">●</text>每日步数\n\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<view class=\"stat_content\">\n\n\t\t\t\t\t\t<text class=\"value\">{{exerciseStats.totalSteps}}</text>/{{exerciseStats.targetSteps}} 步\n\n\t\t\t\t\t</view>\n\n\t\t\t\t</view>\n\n\t\t\t</view>\n\n\t\t</view>\n\n\t\t<view class=\"diet_box card_box\">\n\n\t\t\t<view class=\"diet_title_bar\">\n\n\t\t\t\t<view class=\"section_title\">饮食日记</view>\n\n\t\t\t\t<view class=\"diet_actions\">\n\n\t\t\t\t\t<button class=\"diet_btn\" @click=\"openDietModal\">记录饮食</button>\n\n\t\t\t\t\t<button class=\"diet_btn\" @click=\"goToRecipes\"\n\t\t\t\t\t\tstyle=\"margin-left: 8px; background: #4A89FF;\">食谱推荐</button>\n\n\t\t\t\t</view>\n\n\t\t\t</view>\n\n\t\t\t<view class=\"diet_list\">\n\n\t\t\t\t<view class=\"diet_record list_item\" v-for=\"di in diet_infos\" :key=\"di.type\" @click=\"openDietDetail(di)\">\n\n\t\t\t\t\t<view class=\"record_ico\">\n\n\t\t\t\t\t\t<image :src=\"di.icon\" />\n\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<view class=\"diet_content\">\n\n\t\t\t\t\t\t<view class=\"diet_type\">\n\n\t\t\t\t\t\t\t{{di.type}}\n\n\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t<view class=\"diet_info\">\n\n\t\t\t\t\t\t\t<text class=\"value\">{{di.diet_num}}</text> 份 | <text class=\"value\">{{di.diet_kcal}}</text> /\n\t\t\t\t\t\t\t<text>{{di.diet_plan_kcal}}</text> kcal\n\n\t\t\t\t\t\t</view>\n\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<view class=\"diet_right\">\n\n\t\t\t\t\t\t...\n\n\t\t\t\t\t</view>\n\n\t\t\t\t</view>\n\n\t\t\t</view>\n\n\t\t</view>\n\n\n\n\t\t<view v-if=\"showDietModal\" class=\"modal_mask\" @click=\"closeDietModal\"></view>\n\n\t\t<view v-if=\"showDietModal\" class=\"modal_container\">\n\n\t\t\t<view class=\"modal_title\">记录饮食</view>\n\n\t\t\t<view class=\"form_row\">\n\n\t\t\t\t<view class=\"form_label\">餐别</view>\n\n\t\t\t\t<picker mode=\"selector\" :range=\"mealTypes\" @change=\"onMealTypeChange\">\n\n\t\t\t\t\t<view class=\"picker_value\">{{dietForm.type}}</view>\n\n\t\t\t\t</picker>\n\n\t\t\t</view>\n\n\t\t\t<view class=\"form_row\">\n\n\t\t\t\t<view class=\"form_label\">从食物库</view>\n\n\t\t\t\t<button class=\"diet_btn\" @click.stop=\"goSelectFood\">选择食物</button>\n\n\t\t\t</view>\n\n\t\t\t<view v-if=\"dietForm.food_name\" class=\"form_row\">\n\n\t\t\t\t<view class=\"form_label\">已选食物</view>\n\n\t\t\t\t<view class=\"selected_food\">{{dietForm.food_name}}</view>\n\n\t\t\t</view>\n\n\t\t\t<view class=\"form_row\">\n\n\t\t\t\t<view class=\"form_label\">份数</view>\n\n\t\t\t\t<input class=\"form_input\" type=\"number\" v-model.number=\"dietForm.diet_num\" placeholder=\"请输入份数\" />\n\n\t\t\t</view>\n\n\t\t\t<view class=\"form_row\">\n\n\t\t\t\t<view class=\"form_label\">热量(kcal)</view>\n\n\t\t\t\t<input class=\"form_input\" type=\"number\" v-model.number=\"dietForm.diet_kcal\" placeholder=\"本次摄入热量\" />\n\n\t\t\t</view>\n\n\t\t\t<view class=\"form_row\">\n\n\t\t\t\t<view class=\"form_label\">计划(kcal)</view>\n\n\t\t\t\t<input class=\"form_input\" type=\"number\" v-model.number=\"dietForm.diet_plan_kcal\" placeholder=\"当日计划热量\" />\n\n\t\t\t</view>\n\n\t\t\t<view class=\"modal_actions\">\n\n\t\t\t\t<button class=\"btn_cancel\" @click=\"closeDietModal\">取消</button>\n\n\t\t\t\t<button class=\"btn_confirm\" @click=\"submitDietRecord\">保存</button>\n\n\t\t\t</view>\n\n\t\t</view>\n\n\t</view>\n\n</template>\n\n\n\n<script>\n\timport qiunDataCharts from '@/uni_modules/qiun-data-charts/components/qiun-data-charts/qiun-data-charts.vue';\n\n\n\n\texport default {\n\n\t\tcomponents: {\n\t\t\tqiunDataCharts\n\t\t},\n\n\t\tdata() {\n\n\t\t\treturn {\n\n\t\t\t\tshowDietModal: false,\n\n\t\t\t\tmealTypes: ['早餐', '午餐', '晚饭', '加餐'],\n\n\t\t\t\tdietForm: {\n\n\t\t\t\t\ticon: '/static/fried_egg.png',\n\n\t\t\t\t\ttype: '早餐',\n\n\t\t\t\t\tfood_name: '', // 添加食物名称字段\n\n\t\t\t\t\tdiet_num: 1,\n\n\t\t\t\t\tdiet_kcal: 0,\n\n\t\t\t\t\tdiet_plan_kcal: 600\n\n\t\t\t\t},\n\n\t\t\t\tchartData: {\n\n\t\t\t\t\tseries: [\n\n\t\t\t\t\t\t{\n\n\t\t\t\t\t\t\tname: \"活动小时数\",\n\n\t\t\t\t\t\t\tdata: 0.8, // 14 / 12 = 1.16\n\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\t{\n\n\t\t\t\t\t\t\tname: \"锻炼时长\",\n\n\t\t\t\t\t\t\tdata: 1, // 76 / 25 = 3.04\n\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\t{\n\n\t\t\t\t\t\t\tname: \"活动热量\",\n\n\t\t\t\t\t\t\tdata: 0.8, // 538 / 516 = 1.04\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t]\n\n\t\t\t\t},\n\n\t\t\t\topts: {\n\n\t\t\t\t\tcolor: [\"#F5296E\", \"#FFCC00\", \"#4A89FF\"],\n\n\t\t\t\t\tpadding: undefined,\n\n\t\t\t\t\ttitle: {\n\n\t\t\t\t\t\tname: \"\",\n\n\t\t\t\t\t\tfontSize: 35,\n\n\t\t\t\t\t\tcolor: \"#1890ff\"\n\n\t\t\t\t\t},\n\n\t\t\t\t\tsubtitle: {\n\n\t\t\t\t\t\tname: \"\",\n\n\t\t\t\t\t\tfontSize: 15,\n\n\t\t\t\t\t\tcolor: \"#666666\"\n\n\t\t\t\t\t},\n\n\t\t\t\t\textra: {\n\n\t\t\t\t\t\tarcbar: {\n\n\t\t\t\t\t\t\ttype: \"circle\",\n\n\t\t\t\t\t\t\twidth: 18,\n\n\t\t\t\t\t\t\tbackgroundColor: \"#E9E9E9\",\n\n\t\t\t\t\t\t\tstartAngle: 1.5,\n\n\t\t\t\t\t\t\tendAngle: 0.25,\n\n\t\t\t\t\t\t\tgap: 1.5\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t},\n\n\t\t\t\tdiet_infos: [\n\n\t\t\t\t\t{\n\n\t\t\t\t\t\ticon: '/static/fried_egg.png',\n\n\t\t\t\t\t\ttype: '早餐',\n\n\t\t\t\t\t\tdiet_num: 2,\n\n\t\t\t\t\t\tdiet_kcal: 316,\n\n\t\t\t\t\t\tdiet_plan_kcal: 600\n\n\t\t\t\t\t},\n\n\t\t\t\t\t{\n\n\t\t\t\t\t\ticon: '/static/lunch.png',\n\n\t\t\t\t\t\ttype: '午餐',\n\n\t\t\t\t\t\tdiet_num: 2,\n\n\t\t\t\t\t\tdiet_kcal: 316,\n\n\t\t\t\t\t\tdiet_plan_kcal: 600\n\n\t\t\t\t\t},\n\n\t\t\t\t\t{\n\n\t\t\t\t\t\ticon: '/static/dinner.png',\n\n\t\t\t\t\t\ttype: '晚饭',\n\n\t\t\t\t\t\tdiet_num: 2,\n\n\t\t\t\t\t\tdiet_kcal: 316,\n\n\t\t\t\t\t\tdiet_plan_kcal: 600\n\n\t\t\t\t\t},\n\n\t\t\t\t\t{\n\n\t\t\t\t\t\ticon: '/static/extra_meal.png',\n\n\t\t\t\t\t\ttype: '加餐',\n\n\t\t\t\t\t\tdiet_num: 2,\n\n\t\t\t\t\t\tdiet_kcal: 316,\n\n\t\t\t\t\t\tdiet_plan_kcal: 600\n\n\t\t\t\t\t}\n\n\t\t\t\t],\n\n\t\t\t\t// 运动统计数据\n\n\t\t\t\texerciseStats: {\n\n\t\t\t\t\ttotalCalories: 0,\n\n\t\t\t\t\ttargetCalories: 500,\n\n\t\t\t\t\ttotalDuration: 0,\n\n\t\t\t\t\ttargetDuration: 60,\n\n\t\t\t\t\ttotalSteps: 0,\n\n\t\t\t\t\ttargetSteps: 10000\n\n\t\t\t\t},\n\n\t\t\t\tuserInfo: {\n\n\t\t\t\t\tdailyCalorieGoal: 600,\n\n\t\t\t\t\tdailyExerciseGoal: 30,\n\n\t\t\t\t\tdailyStepGoal: 10000\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t},\n\n\t\tonLoad() {\n\n\t\t\tthis.loadUserInfo(); // 先加载用户信息\n\n\t\t\tthis.loadDietRecords();\n\n\t\t\tthis.loadExerciseData();\n\n\n\t\t\t// 监听运动数据刷新事件\n\n\t\t\tuni.$on('refreshExerciseData', () => {\n\n\t\t\t\tthis.loadExerciseData();\n\n\t\t\t});\n\n\t\t},\n\n\t\tonShow() {\n\n\t\t\t// 页面显示时刷新运动数据\n\n\t\t\tthis.loadExerciseData();\n\n\t\t},\n\n\t\tonUnload() {\n\n\t\t\t// 页面卸载时移除事件监听\n\n\t\t\tuni.$off('refreshExerciseData');\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\t// 加载用户信息\n\n\t\t\tloadUserInfo() {\n\n\t\t\t\tconst token = uni.getStorageSync('token');\n\n\t\t\t\tconst storedUserInfo = uni.getStorageSync('userInfo');\n\n\n\t\t\t\tif (storedUserInfo) {\n\n\t\t\t\t\tthis.userInfo = {\n\t\t\t\t\t\t...this.userInfo,\n\t\t\t\t\t\t...storedUserInfo\n\t\t\t\t\t};\n\n\t\t\t\t}\n\n\n\t\t\t\tif (!token) {\n\n\t\t\t\t\tconsole.log('未登录，使用默认用户信息');\n\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\n\t\t\t\t// 从后端获取用户信息\n\n\t\t\t\tuni.request({\n\n\t\t\t\t\turl: 'http://localhost:8088/api/users/me',\n\n\t\t\t\t\tmethod: 'GET',\n\n\t\t\t\t\theader: {\n\n\t\t\t\t\t\t'Authorization': 'Bearer ' + token\n\n\t\t\t\t\t},\n\n\t\t\t\t\tsuccess: (res) => {\n\n\t\t\t\t\t\tif (res.data.code === 0) {\n\n\t\t\t\t\t\t\tconst userData = res.data.data;\n\n\t\t\t\t\t\t\tthis.userInfo = {\n\n\t\t\t\t\t\t\t\t...this.userInfo,\n\n\t\t\t\t\t\t\t\t...userData\n\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// 保存到本地存储\n\n\t\t\t\t\t\t\tuni.setStorageSync('userInfo', this.userInfo);\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t},\n\n\t\t\t\t\tfail: () => {\n\n\t\t\t\t\t\tconsole.log('加载用户信息失败，使用本地数据');\n\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t},\n\n\n\t\t\t// 加载饮食记录\n\n\t\t\tloadDietRecords() {\n\n\t\t\t\tconst token = uni.getStorageSync('token');\n\n\t\t\t\tif (!token) {\n\n\t\t\t\t\tuni.showToast({\n\n\t\t\t\t\t\ttitle: '请先登录',\n\n\t\t\t\t\t\ticon: 'none'\n\n\t\t\t\t\t});\n\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\n\t\t\t\tuni.request({\n\n\t\t\t\t\turl: 'http://localhost:8088/api/diet-records',\n\n\t\t\t\t\tmethod: 'GET',\n\n\t\t\t\t\theader: {\n\n\t\t\t\t\t\t'Authorization': 'Bearer ' + token\n\n\t\t\t\t\t},\n\n\t\t\t\t\tsuccess: (res) => {\n\n\t\t\t\t\t\tif (res.data.code === 0) {\n\n\t\t\t\t\t\t\t// 将后端数据转换为前端显示格式\n\n\t\t\t\t\t\t\tconst pageData = res.data.data;\n\n\t\t\t\t\t\t\tconst records = pageData.records || [];\n\n\t\t\t\t\t\t\tthis.diet_infos = records.map(record => ({\n\n\t\t\t\t\t\t\t\tid: record.id, // 添加记录ID\n\n\t\t\t\t\t\t\t\ticon: this.getMealIcon(record.mealType),\n\n\t\t\t\t\t\t\t\ttype: record.mealType,\n\n\t\t\t\t\t\t\t\tdiet_num: 1, // 默认值，实际应该从record.items计算\n\n\t\t\t\t\t\t\t\tdiet_kcal: record.planCalories || 0,\n\n\t\t\t\t\t\t\t\tdiet_plan_kcal: record.planCalories || 600\n\n\t\t\t\t\t\t\t}));\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t},\n\n\t\t\t\t\tfail: () => {\n\n\t\t\t\t\t\tconsole.log('加载饮食记录失败，使用本地数据');\n\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t},\n\n\n\t\t\t// 加载运动数据\n\n\t\t\tloadExerciseData() {\n\n\t\t\t\tconst token = uni.getStorageSync('token');\n\n\t\t\t\tif (!token) {\n\n\t\t\t\t\tconsole.log('未登录，跳过运动数据加载');\n\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\n\t\t\t\tuni.request({\n\n\t\t\t\t\turl: 'http://localhost:8088/api/exercise-records',\n\n\t\t\t\t\tmethod: 'GET',\n\n\t\t\t\t\theader: {\n\n\t\t\t\t\t\t'Authorization': 'Bearer ' + token\n\n\t\t\t\t\t},\n\n\t\t\t\t\tsuccess: (res) => {\n\n\t\t\t\t\t\tif (res.data.code === 0) {\n\n\t\t\t\t\t\t\tconst records = res.data.data.records || [];\n\n\t\t\t\t\t\t\tthis.updateChartData(records);\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t},\n\n\t\t\t\t\tfail: () => {\n\n\t\t\t\t\t\tconsole.log('加载运动数据失败，使用默认数据');\n\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t},\n\n\n\t\t\t// 更新图表数据\n\n\t\t\tupdateChartData(exerciseRecords) {\n\n\t\t\t\t// 计算今日运动数据\n\n\t\t\t\tconst today = new Date().toISOString().split('T')[0];\n\n\t\t\t\tconst todayRecords = exerciseRecords.filter(record => {\n\n\t\t\t\t\tconst recordDate = new Date(record.exerciseTime).toISOString().split('T')[0];\n\n\t\t\t\t\treturn recordDate === today;\n\n\t\t\t\t});\n\n\n\t\t\t\t// 计算统计数据\n\n\t\t\t\tlet totalDuration = 0; // 总锻炼时长（分钟）\n\n\t\t\t\tlet totalCalories = 0; // 总消耗卡路里\n\n\t\t\t\tlet totalSteps = 0; // 总步数（模拟计算）\n\n\n\t\t\t\ttodayRecords.forEach(record => {\n\n\t\t\t\t\ttotalDuration += record.duration || 0;\n\n\t\t\t\t\ttotalCalories += record.calories || 0;\n\n\t\t\t\t\t// 根据运动类型和时长估算步数\n\n\t\t\t\t\ttotalSteps += this.estimateSteps(record.exerciseType || record.exerciseName, record.duration ||\n\t\t\t\t\t\t0);\n\n\t\t\t\t});\n\n\n\t\t\t\t// 使用用户设置的目标值\n\n\t\t\t\tconst targetSteps = this.userInfo.dailyStepGoal || 10000; // 目标步数\n\n\t\t\t\tconst targetDuration = this.userInfo.dailyExerciseGoal || 30; // 目标锻炼时长（分钟）\n\n\t\t\t\tconst targetCalories = this.userInfo.dailyCalorieGoal || 600; // 目标消耗卡路里\n\n\n\t\t\t\t// 计算完成度（0-1之间，最大为1）\n\n\t\t\t\tconst stepsProgress = Math.min(totalSteps / targetSteps, 1);\n\n\t\t\t\tconst durationProgress = Math.min(totalDuration / targetDuration, 1);\n\n\t\t\t\tconst caloriesProgress = Math.min(totalCalories / targetCalories, 1);\n\n\n\t\t\t\t// 更新图表数据\n\n\t\t\t\tthis.chartData = {\n\n\t\t\t\t\tseries: [\n\n\t\t\t\t\t\t{\n\n\t\t\t\t\t\t\tname: \"每日步数\",\n\n\t\t\t\t\t\t\tdata: stepsProgress,\n\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\t{\n\n\t\t\t\t\t\t\tname: \"锻炼时长\",\n\n\t\t\t\t\t\t\tdata: durationProgress,\n\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\t{\n\n\t\t\t\t\t\t\tname: \"活动热量\",\n\n\t\t\t\t\t\t\tdata: caloriesProgress,\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t]\n\n\t\t\t\t};\n\n\n\t\t\t\t// 更新统计信息数据\n\n\t\t\t\tthis.exerciseStats = {\n\n\t\t\t\t\ttotalCalories: Math.round(totalCalories),\n\n\t\t\t\t\ttargetCalories: targetCalories,\n\n\t\t\t\t\ttotalDuration: Math.round(totalDuration),\n\n\t\t\t\t\ttargetDuration: targetDuration,\n\n\t\t\t\t\ttotalSteps: Math.round(totalSteps),\n\n\t\t\t\t\ttargetSteps: targetSteps\n\n\t\t\t\t};\n\n\n\t\t\t\tconsole.log('图表数据已更新:', {\n\n\t\t\t\t\ttotalSteps: totalSteps,\n\n\t\t\t\t\ttotalDuration: totalDuration,\n\n\t\t\t\t\ttotalCalories: totalCalories,\n\n\t\t\t\t\tstepsProgress: stepsProgress.toFixed(2),\n\n\t\t\t\t\tdurationProgress: durationProgress.toFixed(2),\n\n\t\t\t\t\tcaloriesProgress: caloriesProgress.toFixed(2)\n\n\t\t\t\t});\n\n\t\t\t},\n\n\n\t\t\t// 根据运动类型和时长估算步数\n\n\t\t\testimateSteps(exerciseType, duration) {\n\n\t\t\t\t// 不同运动类型的步数估算（每分钟）\n\n\t\t\t\tconst stepsPerMinute = {\n\n\t\t\t\t\t'跑步': 150, // 跑步每分钟约150步\n\n\t\t\t\t\t'游泳': 0, // 游泳不计步数\n\n\t\t\t\t\t'骑行': 0, // 骑行不计步数\n\n\t\t\t\t\t'健身': 20, // 健身每分钟约20步\n\n\t\t\t\t\t'瑜伽': 10, // 瑜伽每分钟约10步\n\n\t\t\t\t\t'篮球': 120, // 篮球每分钟约120步\n\n\t\t\t\t\t'足球': 130, // 足球每分钟约130步\n\n\t\t\t\t\t'羽毛球': 80, // 羽毛球每分钟约80步\n\n\t\t\t\t\t'乒乓球': 30, // 乒乓球每分钟约30步\n\n\t\t\t\t\t'其他': 50 // 其他运动每分钟约50步\n\n\t\t\t\t};\n\n\n\t\t\t\tconst stepsPerMin = stepsPerMinute[exerciseType] || 50;\n\n\t\t\t\treturn Math.round(stepsPerMin * duration);\n\n\t\t\t},\n\n\n\t\t\t// 获取餐别图标\n\n\t\t\tgetMealIcon(mealType) {\n\n\t\t\t\tconst iconMap = {\n\n\t\t\t\t\t'早餐': '/static/fried_egg.png',\n\n\t\t\t\t\t'午餐': '/static/lunch.png',\n\n\t\t\t\t\t'晚饭': '/static/dinner.png',\n\n\t\t\t\t\t'加餐': '/static/extra_meal.png'\n\n\t\t\t\t};\n\n\t\t\t\treturn iconMap[mealType] || '/static/fried_egg.png';\n\n\t\t\t},\n\n\n\t\t\t// 刷新运动数据（供其他页面调用）\n\n\t\t\trefreshExerciseData() {\n\n\t\t\t\tthis.loadExerciseData();\n\n\t\t\t},\n\n\n\t\t\topenDietModal() {\n\n\t\t\t\tthis.showDietModal = true;\n\n\t\t\t},\n\n\t\t\tcloseDietModal() {\n\n\t\t\t\tthis.showDietModal = false;\n\n\t\t\t},\n\n\t\t\tonMealTypeChange(e) {\n\n\t\t\t\tconst index = e.detail.value;\n\n\t\t\t\tthis.dietForm.type = this.mealTypes[index];\n\n\t\t\t\tconst iconMap = {\n\n\t\t\t\t\t'早餐': '/static/fried_egg.png',\n\n\t\t\t\t\t'午餐': '/static/lunch.png',\n\n\t\t\t\t\t'晚饭': '/static/dinner.png',\n\n\t\t\t\t\t'加餐': '/static/extra_meal.png'\n\n\t\t\t\t};\n\n\t\t\t\tthis.dietForm.icon = iconMap[this.dietForm.type] || '/static/fried_egg.png';\n\n\t\t\t},\n\n\t\t\tgoSelectFood() {\n\n\t\t\t\tuni.navigateTo({\n\n\t\t\t\t\turl: '/pages/FoodSearch/FoodSearch',\n\n\t\t\t\t\tevents: {\n\n\t\t\t\t\t\t// none\n\n\t\t\t\t\t},\n\n\t\t\t\t\tsuccess: (res) => {\n\n\t\t\t\t\t\tres.eventChannel.on('foodSelected', (food) => {\n\n\t\t\t\t\t\t\t// 回填热量（默认按100g，用户可再调整份数）\n\n\t\t\t\t\t\t\tthis.dietForm.food_name = food.name;\n\n\t\t\t\t\t\t\tthis.dietForm.diet_kcal = food.calories_per_100;\n\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '已选择：' + food.name,\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t},\n\n\t\t\tgoToRecipes() {\n\n\t\t\t\tuni.navigateTo({\n\n\t\t\t\t\turl: '/pages/Recipes/Recipes'\n\n\t\t\t\t});\n\n\t\t\t},\n\n\t\t\topenDietDetail(di) {\n\n\t\t\t\t// 如果有记录ID，传递过去；否则创建新记录\n\n\t\t\t\tif (di.id) {\n\n\t\t\t\t\tuni.navigateTo({\n\n\t\t\t\t\t\turl: `/pages/DietRecordDetail/DietRecordDetail?recordId=${di.id}`\n\n\t\t\t\t\t});\n\n\t\t\t\t} else {\n\n\t\t\t\t\tuni.navigateTo({\n\n\t\t\t\t\t\turl: '/pages/DietRecordDetail/DietRecordDetail'\n\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsubmitDietRecord() {\n\n\t\t\t\tconst n = Number(this.dietForm.diet_num);\n\n\t\t\t\tconst kcal = Number(this.dietForm.diet_kcal);\n\n\t\t\t\tconst plan = Number(this.dietForm.diet_plan_kcal);\n\n\t\t\t\tif (!this.dietForm.type || !n || n <= 0 || isNaN(kcal) || kcal <= 0) {\n\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '请填写有效信息',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\n\t\t\t\t// 调用后端API保存饮食记录\n\n\t\t\t\tconst dietRecord = {\n\n\t\t\t\t\tmealType: this.dietForm.type,\n\n\t\t\t\t\trecordedAt: new Date().toISOString(),\n\n\t\t\t\t\tplanCalories: plan > 0 ? plan : 600,\n\n\t\t\t\t\tnote: ''\n\n\t\t\t\t};\n\n\n\t\t\t\t// 调试：打印发送的数据\n\n\t\t\t\tconsole.log('发送的饮食记录数据:', JSON.stringify(dietRecord, null, 2));\n\n\t\t\t\tconsole.log('dietForm数据:', JSON.stringify(this.dietForm, null, 2));\n\n\n\t\t\t\t// 获取token\n\n\t\t\t\tconst token = uni.getStorageSync('token')\n\n\n\t\t\t\tuni.request({\n\n\t\t\t\t\turl: 'http://localhost:8088/api/diet-records',\n\n\t\t\t\t\tmethod: 'POST',\n\n\t\t\t\t\tdata: dietRecord,\n\n\t\t\t\t\theader: {\n\n\t\t\t\t\t\t'Authorization': token ? 'Bearer ' + token : ''\n\n\t\t\t\t\t},\n\n\t\t\t\t\tsuccess: (res) => {\n\n\t\t\t\t\t\tif (res.data.code === 0) {\n\n\t\t\t\t\t\t\t// 更新本地显示\n\n\t\t\t\t\t\t\tthis.diet_infos.unshift({\n\n\t\t\t\t\t\t\t\ticon: this.dietForm.icon,\n\n\t\t\t\t\t\t\t\ttype: this.dietForm.type,\n\n\t\t\t\t\t\t\t\tdiet_num: n,\n\n\t\t\t\t\t\t\t\tdiet_kcal: kcal,\n\n\t\t\t\t\t\t\t\tdiet_plan_kcal: plan > 0 ? plan : 600\n\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tthis.closeDietModal();\n\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '已记录',\n\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '保存失败',\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t},\n\n\t\t\t\t\tfail: () => {\n\n\t\t\t\t\t\t// 如果API调用失败，仍然更新本地显示\n\n\t\t\t\t\t\tthis.diet_infos.unshift({\n\n\t\t\t\t\t\t\ticon: this.dietForm.icon,\n\n\t\t\t\t\t\t\ttype: this.dietForm.type,\n\n\t\t\t\t\t\t\tdiet_num: n,\n\n\t\t\t\t\t\t\tdiet_kcal: kcal,\n\n\t\t\t\t\t\t\tdiet_plan_kcal: plan > 0 ? plan : 600\n\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tthis.closeDietModal();\n\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '已记录(离线)',\n\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t}\n\n\t};\n</script>\n\n\n\n<style scoped>\n\t/* 定义颜色变量 */\n\n\t:root {\n\n\t\t--main-color: #4A89FF;\n\n\t\t--warning-color: #FFCC00;\n\n\t\t--danger-color: #F5296E;\n\n\t\t--background-color: #f7f8f9;\n\n\t\t--card-background: #ffffff;\n\n\t\t--text-color-primary: #333333;\n\n\t\t--text-color-secondary: #666666;\n\n\t\t--border-color: #ebebeb;\n\n\t\t--box-shadow: 0px 2px 8px rgba(99, 99, 99, 0.1);\n\n\t}\n\n\n\n\t.roomElement {\n\n\t\twidth: 100%;\n\n\t\tmin-height: 100vh;\n\n\t\tbackground-color: var(--background-color);\n\n\t\tpadding-bottom: 3vh;\n\n\t}\n\n\n\n\t.card_box {\n\n\t\twidth: 95%;\n\n\t\tmargin: 15px auto;\n\n\t\tbackground-color: var(--card-background);\n\n\t\tborder-radius: 12px;\n\n\t\tbox-shadow: var(--box-shadow);\n\n\t\tpadding: 20px;\n\n\t\tbox-sizing: border-box;\n\n\t}\n\n\n\t.overview_box {\n\n\t\theight: auto;\n\t\t/* 使用 auto 适应内容 */\n\n\t\tpadding-top: 20px;\n\n\t\tborder-radius: 0 0 12px 12px;\n\n\t\tmargin-top: 0;\n\n\t}\n\n\n\n\t.charts-box {\n\n\t\twidth: 100%;\n\n\t\theight: 250px;\n\t\t/* 固定高度确保图表显示 */\n\n\t}\n\n\n\n\t.information_box {\n\n\t\tdisplay: flex;\n\n\t\tjustify-content: space-around;\n\n\t\ttext-align: center;\n\n\t\tmargin-top: 20px;\n\n\t\tpadding-top: 20px;\n\n\t\tborder-top: 1px dashed var(--border-color);\n\n\t}\n\n\n\n\t.stat_item {\n\n\t\twidth: 33%;\n\n\t\ttext-align: left;\n\n\t}\n\n\n\n\t.stat_title {\n\n\t\tfont-size: 14px;\n\n\t\tcolor: var(--text-color-secondary);\n\n\t\tdisplay: flex;\n\n\t\talign-items: center;\n\n\t}\n\n\n\n\t.dot {\n\n\t\tfont-size: 24px;\n\n\t\tmargin-right: 5px;\n\n\t}\n\n\n\n\t.stat_content {\n\n\t\tfont-size: 14px;\n\n\t\tpadding-top: 5px;\n\n\t\tcolor: var(--text-color-secondary);\n\n\t}\n\n\n\n\t.stat_content .value {\n\n\t\tfont-size: 18px;\n\n\t\tfont-weight: bold;\n\n\t\tcolor: var(--text-color-primary);\n\n\t}\n\n\n\n\t.section_title {\n\n\t\tfont-size: 18px;\n\n\t\tfont-weight: bold;\n\n\t\tcolor: var(--text-color-primary);\n\n\t}\n\n\n\n\t.diet_box {\n\n\t\tpadding: 20px;\n\n\t}\n\n\n\n\t.diet_title_bar {\n\n\t\tdisplay: flex;\n\n\t\talign-items: center;\n\n\t\tjustify-content: space-between;\n\n\t\tpadding-bottom: 15px;\n\n\t\tborder-bottom: 1px solid var(--border-color);\n\n\t\tmargin-bottom: 15px;\n\n\t}\n\n\n\n\t.diet_actions {\n\t\tdisplay: flex;\n\t\tgap: 10px; /* 添加按钮间距 */\n\t}\n\n\n\t.diet_btn {\n\n\t\tbackground-color: var(--danger-color);\n\n\t\tcolor: #fff;\n\n\t\tborder: none;\n\n\t\tpadding: 8px 16px;\n\n\t\tborder-radius: 20px;\n\n\t\tfont-size: 14px;\n\n\t\tline-height: 1;\n\n\t\theight: auto;\n\n\t\tmin-width: 80px;\n\n\t\ttext-align: center;\n\n\t}\n\n\n\n\t.diet_list {\n\n\t\t/* 列表容器 */\n\n\t}\n\n\n\n\t.list_item {\n\n\t\tdisplay: flex;\n\n\t\talign-items: center;\n\n\t\tpadding: 15px 0;\n\n\t\tborder-bottom: 1px solid var(--border-color);\n\n\t}\n\n\n\t.list_item:last-child {\n\n\t\tborder-bottom: none;\n\n\t}\n\n\n\n\t.record_ico {\n\n\t\twidth: 40px;\n\n\t\theight: 40px;\n\n\t\tborder-radius: 50%;\n\n\t\toverflow: hidden;\n\n\t\tmargin-right: 15px;\n\n\t\tflex-shrink: 0;\n\n\t}\n\n\n\n\t.record_ico image {\n\n\t\twidth: 100%;\n\n\t\theight: 100%;\n\n\t}\n\n\n\n\t.diet_content {\n\n\t\tflex: 1;\n\n\t}\n\n\n\n\t.diet_type {\n\n\t\tfont-weight: bold;\n\n\t\tfont-size: 16px;\n\n\t\tcolor: var(--text-color-primary);\n\n\t}\n\n\n\n\t.diet_info {\n\n\t\tcolor: var(--text-color-secondary);\n\n\t\tfont-size: 14px;\n\n\t\tmargin-top: 5px;\n\n\t}\n\n\n\n\t.diet_info .value {\n\n\t\tfont-weight: bold;\n\n\t\tcolor: var(--text-color-primary);\n\n\t}\n\n\n\n\t.diet_right {\n\n\t\tfont-weight: bold;\n\n\t\tfont-size: 18px;\n\n\t\tcolor: #ccc;\n\n\t\tpadding-left: 15px;\n\n\t}\n\n\n\n\t/* 弹窗样式优化 */\n\n\t.modal_mask {\n\n\t\tposition: fixed;\n\n\t\tleft: 0;\n\n\t\ttop: 0;\n\n\t\tright: 0;\n\n\t\tbottom: 0;\n\n\t\tbackground: rgba(0, 0, 0, 0.5);\n\n\t\tz-index: 999;\n\n\t}\n\n\n\n\t.modal_container {\n\n\t\tposition: fixed;\n\n\t\tleft: 50%;\n\n\t\ttop: 50%;\n\n\t\ttransform: translate(-50%, -50%);\n\n\t\twidth: 85vw;\n\n\t\tmax-width: 350px;\n\n\t\tbackground: var(--card-background);\n\n\t\tborder-radius: 12px;\n\n\t\tpadding: 24px;\n\n\t\tbox-shadow: var(--box-shadow);\n\n\t\tz-index: 1000;\n\n\t}\n\n\n\n\t.modal_title {\n\n\t\tfont-size: 20px;\n\n\t\tfont-weight: bold;\n\n\t\ttext-align: center;\n\n\t\tmargin-bottom: 24px;\n\n\t\tcolor: var(--text-color-primary);\n\n\t}\n\n\n\n\t.form_row {\n\n\t\tdisplay: flex;\n\n\t\talign-items: center;\n\n\t\tmargin-bottom: 16px;\n\n\t}\n\n\n\n\t.form_label {\n\n\t\tcolor: var(--text-color-secondary);\n\n\t\tfont-size: 14px;\n\n\t\twidth: 30%;\n\n\t\tflex-shrink: 0;\n\n\t}\n\n\n\n\t.form_input,\n\n\t.picker_value {\n\n\t\tflex: 1;\n\n\t\theight: 44px;\n\n\t\tline-height: 44px;\n\n\t\tbackground: var(--background-color);\n\n\t\tborder-radius: 8px;\n\n\t\tpadding: 0 12px;\n\n\t\tfont-size: 14px;\n\n\t\tborder: 1px solid var(--border-color);\n\n\t\tbox-sizing: border-box;\n\n\t}\n\n\n\n\t.form_input::placeholder {\n\n\t\tcolor: #999;\n\n\t}\n\n\n\t.picker_value {\n\n\t\tcolor: var(--text-color-primary);\n\n\t}\n\n\n\n\t.modal_actions {\n\n\t\tdisplay: flex;\n\n\t\tjustify-content: space-between;\n\n\t\tgap: 12px;\n\n\t\tmargin-top: 24px;\n\n\t}\n\n\n\n\t.btn_cancel,\n\n\t.btn_confirm {\n\n\t\tflex: 1;\n\n\t\theight: 44px;\n\n\t\tline-height: 44px;\n\n\t\tborder: none;\n\n\t\tborder-radius: 8px;\n\n\t\tfont-size: 16px;\n\n\t\ttext-align: center;\n\n\t\tmin-width: 0;\n\t\t/* Ensures flex works properly */\n\n\t}\n\n\n\n\t.btn_cancel {\n\n\t\tbackground: #eee;\n\n\t\tcolor: var(--text-color-primary);\n\n\t}\n\n\n\n\t.btn_confirm {\n\n\t\tbackground: var(--danger-color);\n\n\t\tcolor: #fff;\n\n\t}\n\n\n\t.selected_food {\n\n\t\tflex: 1;\n\n\t\theight: 44px;\n\n\t\tline-height: 44px;\n\n\t\tbackground: #f0f8ff;\n\n\t\tborder-radius: 8px;\n\n\t\tpadding: 0 12px;\n\n\t\tfont-size: 14px;\n\n\t\tcolor: var(--main-color);\n\n\t\tborder: 1px solid #e6f3ff;\n\n\t\tbox-sizing: border-box;\n\n\t}\n</style>","import MiniProgramPage from 'D:/HBuilder/HealthManagement/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":"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"}